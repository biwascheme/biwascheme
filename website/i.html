<!DOCTYPE html> 
<html lang="ja"> 
  <head> 
    <meta charset="utf-8" /> 
    <title>iBiwaScheme</title>

    <link href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css" rel="stylesheet" type="text/css" />
    <script src="../src/main-browser.js" type="module"></script>
  </head>
  <body>

    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="navbar-brand">
        <h1 class="navbar-item">iBiwaScheme</h1>
      </div>
    </div>

    <div class="field">
      <div class="control">
        <textarea class="textarea" cols=40 rows=8 id="src">(+ 1 2)</textarea>
      </div>
      <label class="label">result:</label>
      <div id="bs-console"></div>
    </div>

    <footer class="footer">
      <h4>Powered by <a href="../index.html" rel="external">BiwaScheme</a><br>
        version <span id="ver">--</span>
      </h4>
    </footer>

    <script type="module">
       $(function(){
          $('#ver').text(BiwaScheme.Version);

          var intp = new BiwaScheme.Interpreter(function(e){
                                                 BiwaScheme.Console.puts(e);
                                                 });
          $('#src').change(function(){
            $('#bs-console').empty();
            var src = $('#src').val();
            intp.evaluate(src, function(result){
                               BiwaScheme.Console.puts(result);
                               });
          }).trigger('change');
        })
      </script>
  </body>
</html>
