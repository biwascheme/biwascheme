<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" /> 
  <!--
    <script src="../release/biwascheme-0.7.0.js"></script>
    <script type="module" src="../release/biwascheme-0.7.1.js"></script>
  -->
    <script type="module" src="../src/main-browser.js"></script>
</head>
<body>
  <h3>https://github.com/biwascheme/biwascheme/issues/212</h3>
  <div>
    <ol>
      <li>Type "ok" in the input box</li>
      <li>Press "Test"</li>
  </div>
  <div>
    <div id="div1" class="ok">ok</div>
    <input id="input1" type="text">
  </div>
  <table>
    <tr><th>Test</th><th>Result</th><th>Expected</th></tr>
    <tr><td>Test 1 (element-content div1)</td><td> <span id="ans1"></span></td><td>"ok"</td></tr>
    <tr><td>Test 2 (element-content input1)</td><td> <span id="ans2"></span></td><td>"ok"</td></tr>
    <tr><td>Test 3 (element-read-attribute div1 "class")</td><td> <span id="ans3"></span></td><td>"ok"</td></tr>
    <tr><td>Test 4 (element-read-attribute input1 "value")</td><td> <span id="ans4"></span></td><td>"ok"</td></tr>
    <tr><td>Test 5 (element-write-attribute div1 "class" "OK")</td><td> <span id="ans5"></span></td><td>"OK"</td></tr>
    <tr><td>Test 6 (element-write-attribute input1 "value" "OK")</td><td> <span id="ans6"></span></td><td>"OK"</td></tr>
    <tr><td>Test 7 (element-empty! div1)</td><td> <span id="ans7"></span></td><td>""</td></tr>
    <tr><td>Test 8 (element-empty! input1)</td><td> <span id="ans8"></span></td><td>""</td></tr>
  </table>

        <div id="bs-console"></div>
        <button id="button">Test</button>
        <script type="text/biwascheme">
(define (test)
  (define div1 ($ "#div1"))
  (define input1 ($ "#input1"))

  (set-content! ($ "#ans1") (write-to-string (element-content div1)))
  (set-content! ($ "#ans2") (write-to-string (element-content input1)))

  (set-content! ($ "#ans3") (write-to-string (element-read-attribute div1 "class")))
  (set-content! ($ "#ans4") (write-to-string (element-read-attribute input1 "value")))

  (element-write-attribute! div1 "class" "OK")
  (set-content! ($ "#ans5") (write-to-string (element-read-attribute div1 "class")))
  (element-write-attribute! input1 "value" "OK")
  (set-content! ($ "#ans6") (write-to-string (element-read-attribute input1 "value")))

  (element-empty! div1)
  (set-content! ($ "#ans7") (write-to-string (get-content div1)))
  (element-empty! input1)
  (set-content! ($ "#ans8") (write-to-string (get-content input1)))
)
(add-handler! "#button" "click" test)
        </script>

</body>
</html>
